using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Car_factory
{
    public class Client
    {
        string name;
        public string Name { get { return name; } }

        ICarFactory carFactory;

        public Client(ICarFactory factory, string inName)
        {
            this.name = inName;
            this.carFactory = factory;
        }

        public string CreateCarOfTypeHybrid()
        {
            return carFactory.CreateCarTypeHybrid();
        }
        public string CreateCarOfTypeLimousine()
        {
            return carFactory.CreateCarTypeLimousine();
        }
    }
}
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Windows.Forms;

namespace Car_factory
{
    public partial class Form1 : Form
    {
        List<Client> clients;
        public Form1()
        {
            InitializeComponent();
            clients = new List<Client>();
        }

        private void opelClient_Click(object sender, EventArgs e)
        {
            if(client.Text != null)
            {
                if (GetClient(client.Text) == null)
                {
                    clients.Add(new Client(new OpelFactory(), client.Text));
                    lb.Items.Add("Client name: " + clients.Last().Name);
                }
                else MessageBox.Show("Client already exists");
            }
            else MessageBox.Show("The textbox is empty");
        }
        
        public Client GetClient(string inName)
        {
            foreach(Client c in clients)
            {
                if(c.Name == inName)
                {
                    return c;
                }
            }

            return null;
        }

        private void hybrid_Click(object sender, EventArgs e)
        {
            if (!(client.Text == null))
            {
                Client c = GetClient(client.Text);
                if (c != null)
                {
                    lb.Items.Add(c.CreateCarOfTypeHybrid());

                }
            }
        }

        private void limousine_Click(object sender, EventArgs e)
        {
            if (!(client.Text == null))
            {
                Client c = GetClient(client.Text);
                if (c != null)
                {
                    lb.Items.Add(c.CreateCarOfTypeLimousine());

                }
            }
        }

        private void button1_Click(object sender, EventArgs e)
        {
            if (client.Text != null)
            {
                if (GetClient(client.Text) == null)
                {
                    clients.Add(new Client(new ToyotaFactory(), client.Text));
                    lb.Items.Add("Client name: " + clients.Last().Name);
                }
                else MessageBox.Show("Client already exists");
            }
            else MessageBox.Show("The textbox is empty");
        }
    }
}
namespace Car_factory
{
    partial class Form1
    {
        /// <summary>
        /// Required designer variable.
        /// </summary>
        private System.ComponentModel.IContainer components = null;

        /// <summary>
        /// Clean up any resources being used.
        /// </summary>
        /// <param name="disposing">true if managed resources should be disposed; otherwise, false.</param>
        protected override void Dispose(bool disposing)
        {
            if (disposing && (components != null))
            {
                components.Dispose();
            }
            base.Dispose(disposing);
        }

        #region Windows Form Designer generated code

        /// <summary>
        /// Required method for Designer support - do not modify
        /// the contents of this method with the code editor.
        /// </summary>
        private void InitializeComponent()
        {
            this.lb = new System.Windows.Forms.ListBox();
            this.label1 = new System.Windows.Forms.Label();
            this.client = new System.Windows.Forms.TextBox();
            this.opelClient = new System.Windows.Forms.Button();
            this.hybrid = new System.Windows.Forms.Button();
            this.limousine = new System.Windows.Forms.Button();
            this.button1 = new System.Windows.Forms.Button();
            this.SuspendLayout();
            // 
            // lb
            // 
            this.lb.FormattingEnabled = true;
            this.lb.ItemHeight = 16;
            this.lb.Location = new System.Drawing.Point(13, 13);
            this.lb.Name = "lb";
            this.lb.Size = new System.Drawing.Size(600, 276);
            this.lb.TabIndex = 0;
            // 
            // label1
            // 
            this.label1.AutoSize = true;
            this.label1.Location = new System.Drawing.Point(13, 296);
            this.label1.Name = "label1";
            this.label1.Size = new System.Drawing.Size(82, 17);
            this.label1.TabIndex = 1;
            this.label1.Text = "Client name";
            // 
            // client
            // 
            this.client.Location = new System.Drawing.Point(16, 317);
            this.client.Name = "client";
            this.client.Size = new System.Drawing.Size(242, 22);
            this.client.TabIndex = 2;
            // 
            // opelClient
            // 
            this.opelClient.Location = new System.Drawing.Point(16, 360);
            this.opelClient.Name = "opelClient";
            this.opelClient.Size = new System.Drawing.Size(140, 35);
            this.opelClient.TabIndex = 3;
            this.opelClient.Text = "Create Opel client";
            this.opelClient.UseVisualStyleBackColor = true;
            this.opelClient.Click += new System.EventHandler(this.opelClient_Click);
            // 
            // hybrid
            // 
            this.hybrid.Location = new System.Drawing.Point(316, 360);
            this.hybrid.Name = "hybrid";
            this.hybrid.Size = new System.Drawing.Size(127, 35);
            this.hybrid.TabIndex = 4;
            this.hybrid.Text = "Create hybrid";
            this.hybrid.UseVisualStyleBackColor = true;
            this.hybrid.Click += new System.EventHandler(this.hybrid_Click);
            // 
            // limousine
            // 
            this.limousine.Location = new System.Drawing.Point(440, 360);
            this.limousine.Name = "limousine";
            this.limousine.Size = new System.Drawing.Size(124, 35);
            this.limousine.TabIndex = 5;
            this.limousine.Text = "Create limousine";
            this.limousine.UseVisualStyleBackColor = true;
            this.limousine.Click += new System.EventHandler(this.limousine_Click);
            // 
            // button1
            // 
            this.button1.Location = new System.Drawing.Point(155, 360);
            this.button1.Name = "button1";
            this.button1.Size = new System.Drawing.Size(164, 35);
            this.button1.TabIndex = 6;
            this.button1.Text = "Create Toyota client";
            this.button1.UseVisualStyleBackColor = true;
            this.button1.Click += new System.EventHandler(this.button1_Click);
            // 
            // Form1
            // 
            this.AutoScaleDimensions = new System.Drawing.SizeF(8F, 16F);
            this.AutoScaleMode = System.Windows.Forms.AutoScaleMode.Font;
            this.ClientSize = new System.Drawing.Size(635, 461);
            this.Controls.Add(this.button1);
            this.Controls.Add(this.limousine);
            this.Controls.Add(this.hybrid);
            this.Controls.Add(this.opelClient);
            this.Controls.Add(this.client);
            this.Controls.Add(this.label1);
            this.Controls.Add(this.lb);
            this.Name = "Form1";
            this.Text = "Form1";
            this.ResumeLayout(false);
            this.PerformLayout();

        }

        #endregion

        private System.Windows.Forms.ListBox lb;
        private System.Windows.Forms.Label label1;
        private System.Windows.Forms.TextBox client;
        private System.Windows.Forms.Button opelClient;
        private System.Windows.Forms.Button hybrid;
        private System.Windows.Forms.Button limousine;
        private System.Windows.Forms.Button button1;
    }
}

using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Car_factory
{
    public class Hybrid : ITypeOfCar
    {
        public string ReturnCarType()
        {
            return "Hybrid";
        }
    }
}
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Car_factory
{
    public interface ICarBrand
    {
        string ReturnCarBrand();
    }
}
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Car_factory
{
    public interface ICarFactory
    {
        string CreateCarTypeLimousine();
        string CreateCarTypeHybrid();
    }
}
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Car_factory
{
    public interface ITypeOfCar
    {
        string ReturnCarType();
    }
}
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Car_factory
{
    public class Limousine : ITypeOfCar
    {
        public string ReturnCarType()
        {
            return "Limousine";
        }
    }
}
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Car_factory
{
    public class Opel : ICarBrand
    {
        public string ReturnCarBrand()
        {
            return "Opel";
        }
    }
}
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Car_factory
{
    public class OpelFactory : ICarFactory
    {
        ICarBrand brand;

        public OpelFactory()
        {
            brand = new Opel();
        }
        public string CreateCarTypeHybrid()
        {
            ITypeOfCar type = new Hybrid();
            return "A " + type + " " + brand.ReturnCarBrand();
        }

        public string CreateCarTypeLimousine()
        {
            ITypeOfCar type = new Limousine();
            return "A " + type + " " + brand.ReturnCarBrand();
        }
    }
   
}
using System;
using System.Collections.Generic;
using System.Linq;
using System.Threading.Tasks;
using System.Windows.Forms;

namespace Car_factory
{
    static class Program
    {
        /// <summary>
        /// The main entry point for the application.
        /// </summary>
        [STAThread]
        static void Main()
        {
            Application.EnableVisualStyles();
            Application.SetCompatibleTextRenderingDefault(false);
            Application.Run(new Form1());
        }
    }
}
using System.Reflection;
using System.Runtime.CompilerServices;
using System.Runtime.InteropServices;

// General Information about an assembly is controlled through the following 
// set of attributes. Change these attribute values to modify the information
// associated with an assembly.
[assembly: AssemblyTitle("Car factory")]
[assembly: AssemblyDescription("")]
[assembly: AssemblyConfiguration("")]
[assembly: AssemblyCompany("")]
[assembly: AssemblyProduct("Car factory")]
[assembly: AssemblyCopyright("Copyright ©  2017")]
[assembly: AssemblyTrademark("")]
[assembly: AssemblyCulture("")]

// Setting ComVisible to false makes the types in this assembly not visible 
// to COM components.  If you need to access a type in this assembly from 
// COM, set the ComVisible attribute to true on that type.
[assembly: ComVisible(false)]

// The following GUID is for the ID of the typelib if this project is exposed to COM
[assembly: Guid("993efe78-10e6-4936-9a4e-7fc5a7618dc1")]

// Version information for an assembly consists of the following four values:
//
//      Major Version
//      Minor Version 
//      Build Number
//      Revision
//
// You can specify all the values or you can default the Build and Revision Numbers 
// by using the '*' as shown below:
// [assembly: AssemblyVersion("1.0.*")]
[assembly: AssemblyVersion("1.0.0.0")]
[assembly: AssemblyFileVersion("1.0.0.0")]
//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//     Runtime Version:4.0.30319.42000
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

namespace Car_factory.Properties
{


    /// <summary>
    ///   A strongly-typed resource class, for looking up localized strings, etc.
    /// </summary>
    // This class was auto-generated by the StronglyTypedResourceBuilder
    // class via a tool like ResGen or Visual Studio.
    // To add or remove a member, edit your .ResX file then rerun ResGen
    // with the /str option, or rebuild your VS project.
    [global::System.CodeDom.Compiler.GeneratedCodeAttribute("System.Resources.Tools.StronglyTypedResourceBuilder", "4.0.0.0")]
    [global::System.Diagnostics.DebuggerNonUserCodeAttribute()]
    [global::System.Runtime.CompilerServices.CompilerGeneratedAttribute()]
    internal class Resources
    {

        private static global::System.Resources.ResourceManager resourceMan;

        private static global::System.Globalization.CultureInfo resourceCulture;

        [global::System.Diagnostics.CodeAnalysis.SuppressMessageAttribute("Microsoft.Performance", "CA1811:AvoidUncalledPrivateCode")]
        internal Resources()
        {
        }

        /// <summary>
        ///   Returns the cached ResourceManager instance used by this class.
        /// </summary>
        [global::System.ComponentModel.EditorBrowsableAttribute(global::System.ComponentModel.EditorBrowsableState.Advanced)]
        internal static global::System.Resources.ResourceManager ResourceManager
        {
            get
            {
                if ((resourceMan == null))
                {
                    global::System.Resources.ResourceManager temp = new global::System.Resources.ResourceManager("Car_factory.Properties.Resources", typeof(Resources).Assembly);
                    resourceMan = temp;
                }
                return resourceMan;
            }
        }

        /// <summary>
        ///   Overrides the current thread's CurrentUICulture property for all
        ///   resource lookups using this strongly typed resource class.
        /// </summary>
        [global::System.ComponentModel.EditorBrowsableAttribute(global::System.ComponentModel.EditorBrowsableState.Advanced)]
        internal static global::System.Globalization.CultureInfo Culture
        {
            get
            {
                return resourceCulture;
            }
            set
            {
                resourceCulture = value;
            }
        }
    }
}
//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//     Runtime Version:4.0.30319.42000
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

namespace Car_factory.Properties
{


    [global::System.Runtime.CompilerServices.CompilerGeneratedAttribute()]
    [global::System.CodeDom.Compiler.GeneratedCodeAttribute("Microsoft.VisualStudio.Editors.SettingsDesigner.SettingsSingleFileGenerator", "11.0.0.0")]
    internal sealed partial class Settings : global::System.Configuration.ApplicationSettingsBase
    {

        private static Settings defaultInstance = ((Settings)(global::System.Configuration.ApplicationSettingsBase.Synchronized(new Settings())));

        public static Settings Default
        {
            get
            {
                return defaultInstance;
            }
        }
    }
}
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Car_factory
{
    class Toyota : ICarBrand
    {
        public string ReturnCarBrand()
        {
            return "Toyota";
        }
    }
}
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Car_factory
{
    class ToyotaFactory : ICarFactory
    {
        ICarBrand brand;
        public ToyotaFactory()
        {
            brand = new Toyota();
        }
        public string CreateCarTypeHybrid()
        {
             ITypeOfCar type = new Hybrid();
            return "A " + type + " " + brand.ReturnCarBrand();

        }
        public string CreateCarTypeLimousine()
        {
            ITypeOfCar type = new Limousine();
            return "A " + type + " " + brand.ReturnCarBrand();
        }
    }
}
